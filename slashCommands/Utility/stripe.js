const _0x2ee57c=_0x577a;(function(_0x30cedc,_0x573e6a){const _0x1ef7ae=_0x577a,_0x41e468=_0x30cedc();while(!![]){try{const _0x5f1848=parseInt(_0x1ef7ae(0x222))/0x1*(-parseInt(_0x1ef7ae(0x1b5))/0x2)+-parseInt(_0x1ef7ae(0x1c4))/0x3+parseInt(_0x1ef7ae(0x230))/0x4+-parseInt(_0x1ef7ae(0x1fa))/0x5+-parseInt(_0x1ef7ae(0x220))/0x6*(-parseInt(_0x1ef7ae(0x1d7))/0x7)+parseInt(_0x1ef7ae(0x1ff))/0x8*(parseInt(_0x1ef7ae(0x1bb))/0x9)+parseInt(_0x1ef7ae(0x1b7))/0xa*(parseInt(_0x1ef7ae(0x1f6))/0xb);if(_0x5f1848===_0x573e6a)break;else _0x41e468['push'](_0x41e468['shift']());}catch(_0x21dab5){_0x41e468['push'](_0x41e468['shift']());}}}(_0x4569,0x342aa));const _0x153427=(function(){let _0x556ef6=!![];return function(_0x4b73bf,_0x29fb27){const _0x2bf2ad=_0x556ef6?function(){const _0x4457f8=_0x577a;if(_0x29fb27){if(_0x4457f8(0x211)==='VkEPo'){const _0x49915a=_0x29fb27['apply'](_0x4b73bf,arguments);return _0x29fb27=null,_0x49915a;}else{_0x4b5592=_0x374545[_0x4457f8(0x205)][_0x4457f8(0x201)]['cache'][_0x4457f8(0x20c)](_0x35cb23['StripeSettings'][_0x4457f8(0x221)][_0x298d91]);if(_0x1a38c3&&_0x579166[_0x4457f8(0x215)][_0x4457f8(0x201)][_0x4457f8(0x1f7)][_0x4457f8(0x223)](_0x2bf1b6[_0x4457f8(0x225)][_0x4457f8(0x221)][_0x23c245]))_0x32b580=!![];}}}:function(){};return _0x556ef6=![],_0x2bf2ad;};}()),_0x31acf4=_0x153427(this,function(){const _0x4d3a9e=_0x577a;return _0x31acf4[_0x4d3a9e(0x1c0)]()['search'](_0x4d3a9e(0x1f5))[_0x4d3a9e(0x1c0)]()[_0x4d3a9e(0x1c5)](_0x31acf4)['search'](_0x4d3a9e(0x1f5));});function _0x577a(_0x23cabe,_0x252327){const _0x489847=_0x4569();return _0x577a=function(_0x31acf4,_0x153427){_0x31acf4=_0x31acf4-0x1b4;let _0x4569f5=_0x489847[_0x31acf4];return _0x4569f5;},_0x577a(_0x23cabe,_0x252327);}_0x31acf4();const {SlashCommandBuilder}=require(_0x2ee57c(0x1de)),Discord=require('discord.js'),fs=require('fs'),yaml=require(_0x2ee57c(0x1f0)),config=yaml[_0x2ee57c(0x20a)](fs[_0x2ee57c(0x1fb)](_0x2ee57c(0x212),'utf8')),commands=yaml['load'](fs[_0x2ee57c(0x1fb)](_0x2ee57c(0x224),_0x2ee57c(0x1ba)));module[_0x2ee57c(0x204)]={'enabled':commands['Utility']['Stripe'][_0x2ee57c(0x1c8)],'data':new SlashCommandBuilder()['setName'](_0x2ee57c(0x1fe))[_0x2ee57c(0x1f4)](commands['Utility'][_0x2ee57c(0x200)][_0x2ee57c(0x22c)])[_0x2ee57c(0x1df)](_0x312661=>_0x312661[_0x2ee57c(0x1e3)]('user')[_0x2ee57c(0x1f4)](_0x2ee57c(0x1d1))[_0x2ee57c(0x22d)](!![]))['addStringOption'](_0x4b8f09=>_0x4b8f09[_0x2ee57c(0x1e3)](_0x2ee57c(0x1db))[_0x2ee57c(0x1f4)]('Customer\x20Email')[_0x2ee57c(0x22d)](!![]))[_0x2ee57c(0x1f3)](_0x57b82a=>_0x57b82a[_0x2ee57c(0x1e3)](_0x2ee57c(0x207))[_0x2ee57c(0x1f4)](_0x2ee57c(0x1f1))[_0x2ee57c(0x22d)](!![]))[_0x2ee57c(0x1bd)](_0x29d1d0=>_0x29d1d0[_0x2ee57c(0x1e3)](_0x2ee57c(0x219))['setDescription'](_0x2ee57c(0x1e0))[_0x2ee57c(0x22d)](!![])),async 'execute'(_0x320522,_0x6d59f6){const _0x2b6e3b=_0x2ee57c;if(config[_0x2b6e3b(0x225)][_0x2b6e3b(0x1c8)]===![])return _0x320522[_0x2b6e3b(0x1e5)]({'content':'This\x20command\x20has\x20been\x20disabled\x20in\x20the\x20config!','ephemeral':!![]});if(config['StripeSettings'][_0x2b6e3b(0x1c6)]&&!_0x6d59f6['tickets'][_0x2b6e3b(0x223)](_0x320522[_0x2b6e3b(0x1ce)]['id']))return _0x320522[_0x2b6e3b(0x1e5)]({'content':config['Locale'][_0x2b6e3b(0x21c)],'ephemeral':!![]});let _0x3bb4de=![];for(let _0x11bf5b=0x0;_0x11bf5b<config[_0x2b6e3b(0x225)][_0x2b6e3b(0x221)]['length'];_0x11bf5b++){role=_0x320522[_0x2b6e3b(0x205)][_0x2b6e3b(0x201)][_0x2b6e3b(0x1f7)]['get'](config[_0x2b6e3b(0x225)][_0x2b6e3b(0x221)][_0x11bf5b]);if(role&&_0x320522[_0x2b6e3b(0x215)]['roles']['cache'][_0x2b6e3b(0x223)](config[_0x2b6e3b(0x225)]['AllowedRoles'][_0x11bf5b]))_0x3bb4de=!![];}if(_0x3bb4de===![])return _0x320522['reply']({'content':config[_0x2b6e3b(0x20b)]['NoPermsMessage'],'ephemeral':!![]});let _0x198f1c=_0x320522['options'][_0x2b6e3b(0x213)]('user'),_0x40a0eb=_0x320522[_0x2b6e3b(0x209)][_0x2b6e3b(0x1b8)](_0x2b6e3b(0x1db)),_0x36fc36=_0x320522['options'][_0x2b6e3b(0x217)]('price'),_0x5c7081=_0x320522[_0x2b6e3b(0x209)]['getString']('service');_0x36fc36=Math[_0x2b6e3b(0x1bf)](_0x36fc36);let _0x2556cd=_0x36fc36*0x64;await _0x320522[_0x2b6e3b(0x20f)](),_0x6d59f6[_0x2b6e3b(0x1fe)][_0x2b6e3b(0x21b)]['create']({'email':_0x40a0eb,'name':_0x198f1c[_0x2b6e3b(0x1cc)],'description':_0x2b6e3b(0x1f8)+_0x198f1c['id']})['then'](_0x12aa16=>{const _0x233c9b=_0x2b6e3b;if(_0x233c9b(0x1f2)!==_0x233c9b(0x228))return _0x6d59f6[_0x233c9b(0x1fe)][_0x233c9b(0x1bc)][_0x233c9b(0x1d3)]({'customer':_0x12aa16['id'],'amount':_0x2556cd,'currency':config[_0x233c9b(0x225)][_0x233c9b(0x1c2)],'description':_0x5c7081})['then'](_0x51d102=>{const _0x24a21f=_0x233c9b;return _0x6d59f6['stripe'][_0x24a21f(0x21d)][_0x24a21f(0x1d3)]({'collection_method':_0x24a21f(0x1ee),'days_until_due':0x1e,'customer':_0x51d102[_0x24a21f(0x1e9)]});})[_0x233c9b(0x216)](async _0x4cedd0=>{const _0x223022=_0x233c9b;await _0x6d59f6[_0x223022(0x1fe)]['invoices'][_0x223022(0x1fd)](_0x4cedd0['id']);let _0x28a1e6=await _0x6d59f6[_0x223022(0x1fe)][_0x223022(0x21d)][_0x223022(0x1e1)](_0x4cedd0['id']);const _0x478d36=new Discord[(_0x223022(0x1b4))]()[_0x223022(0x1be)](new Discord[(_0x223022(0x1ea))]()[_0x223022(0x1c3)](_0x223022(0x1d6))[_0x223022(0x1f9)](''+_0x28a1e6[_0x223022(0x1e4)])[_0x223022(0x1d2)](config[_0x223022(0x20b)]['PayPalPayInvoice'])),_0x2a4b83=new Discord[(_0x223022(0x226))]()[_0x223022(0x1cb)](config[_0x223022(0x20b)][_0x223022(0x1ca)])[_0x223022(0x20e)](config['EmbedColors'])[_0x223022(0x1ed)](_0x223022(0x1e2))[_0x223022(0x1f4)](config['Locale'][_0x223022(0x1cd)])[_0x223022(0x1d8)]([{'name':'â€¢\x20'+config['Locale'][_0x223022(0x229)],'value':_0x223022(0x22a)+config[_0x223022(0x20b)][_0x223022(0x208)]+_0x223022(0x218)+_0x320522[_0x223022(0x21a)]['id']+'>\x0a>\x20**'+config[_0x223022(0x20b)][_0x223022(0x1e6)]+_0x223022(0x218)+_0x198f1c['id']+_0x223022(0x21f)+config[_0x223022(0x20b)][_0x223022(0x1fc)]+_0x223022(0x1b6)+config[_0x223022(0x225)]['CurrencySymbol']+_0x36fc36+'\x20('+config['StripeSettings']['Currency']+_0x223022(0x1ef)+config['Locale'][_0x223022(0x1b9)]+'**\x20ðŸ”´\x20UNPAID'},{'name':'â€¢\x20'+config[_0x223022(0x20b)]['PayPalService'],'value':_0x223022(0x1c9)+_0x5c7081+_0x223022(0x1ec)}])[_0x223022(0x227)]()[_0x223022(0x1e8)]({'text':_0x198f1c[_0x223022(0x1d5)]+'#'+_0x198f1c[_0x223022(0x1d9)],'iconURL':''+_0x198f1c[_0x223022(0x1c7)]({'format':_0x223022(0x214),'dynamic':!![],'size':0x400})});_0x320522[_0x223022(0x206)]({'embeds':[_0x2a4b83],'components':[_0x478d36]})['then'](async function(_0x268992){const _0x182bf2=_0x223022;if(_0x182bf2(0x203)===_0x182bf2(0x1dd))return _0x3dcd03[_0x182bf2(0x1fe)][_0x182bf2(0x21d)][_0x182bf2(0x1d3)]({'collection_method':_0x182bf2(0x1ee),'days_until_due':0x1e,'customer':_0x6bd25a[_0x182bf2(0x1e9)]});else{let _0x33ffc5;if(!config[_0x182bf2(0x202)][_0x182bf2(0x22b)])_0x33ffc5=_0x320522[_0x182bf2(0x205)][_0x182bf2(0x1da)][_0x182bf2(0x1f7)][_0x182bf2(0x20c)](config[_0x182bf2(0x1dc)][_0x182bf2(0x1e7)]);if(config[_0x182bf2(0x202)][_0x182bf2(0x22b)])_0x33ffc5=_0x320522[_0x182bf2(0x205)][_0x182bf2(0x1da)][_0x182bf2(0x1f7)][_0x182bf2(0x20c)](config['stripeInvoice'][_0x182bf2(0x22b)]);const _0x587d04=new Discord['EmbedBuilder']()[_0x182bf2(0x20e)](_0x182bf2(0x1cf))[_0x182bf2(0x1cb)](config[_0x182bf2(0x20b)][_0x182bf2(0x1eb)])[_0x182bf2(0x1d8)]([{'name':'â€¢\x20'+config[_0x182bf2(0x20b)][_0x182bf2(0x1c1)],'value':_0x182bf2(0x210)+_0x320522['user']['id']+'>\x0a>\x20'+_0x320522[_0x182bf2(0x21a)][_0x182bf2(0x1cc)]},{'name':'â€¢\x20'+config[_0x182bf2(0x20b)][_0x182bf2(0x1e6)],'value':'>\x20<@!'+_0x198f1c['id']+'>\x0a>\x20'+_0x198f1c['tag']},{'name':'â€¢\x20'+config[_0x182bf2(0x20b)]['PayPalPrice'],'value':'>\x20'+config['StripeSettings'][_0x182bf2(0x1d0)]+_0x36fc36},{'name':'â€¢\x20'+config['Locale'][_0x182bf2(0x1d4)],'value':'>\x20'+_0x5c7081}])[_0x182bf2(0x227)]()['setThumbnail'](_0x320522[_0x182bf2(0x21a)][_0x182bf2(0x1c7)]({'format':'png','dynamic':!![],'size':0x400}))['setFooter']({'text':''+_0x320522[_0x182bf2(0x21a)][_0x182bf2(0x1cc)],'iconURL':''+_0x320522[_0x182bf2(0x21a)][_0x182bf2(0x1c7)]({'format':_0x182bf2(0x214),'dynamic':!![],'size':0x400})});if(_0x33ffc5&&config[_0x182bf2(0x202)]['Enabled'])_0x33ffc5[_0x182bf2(0x21e)]({'embeds':[_0x587d04]});await _0x6d59f6['stripeInvoices'][_0x182bf2(0x22e)](''+_0x28a1e6['id'],{'userID':_0x198f1c['id'],'sellerID':_0x320522[_0x182bf2(0x21a)]['id'],'channelID':_0x320522[_0x182bf2(0x1ce)]['id'],'messageID':_0x268992['id'],'customerID':_0x28a1e6[_0x182bf2(0x1e9)],'invoiceID':_0x28a1e6['id'],'price':_0x36fc36,'service':_0x5c7081,'status':_0x28a1e6['status']});}});})[_0x233c9b(0x20d)](_0x4628cc=>{const _0x3e9899=_0x233c9b;console[_0x3e9899(0x22f)](_0x4628cc);});else{const _0x490c29=_0x4c7273?function(){if(_0x33f6c8){const _0x2e71ab=_0x35b164['apply'](_0xb4ad25,arguments);return _0x744391=null,_0x2e71ab;}}:function(){};return _0x45a485=![],_0x490c29;}});}};function _0x4569(){const _0x15bae6=['service','user','customers','NotInTicketChannel','invoices','send','>\x0a>\x20**','12mVyWbe','AllowedRoles','21713oxJHUb','has','./commands.yml','StripeSettings','EmbedBuilder','setTimestamp','Rhghb','suggestionInformation','>\x20**','ChannelID','Description','setRequired','ensure','log','216516jbMqqn','ActionRowBuilder','36TkUALm','**\x20','31730JQXmel','getString','suggestionStatus','utf8','2960613BAepmW','invoiceItems','addStringOption','addComponents','round','toString','logsExecutor','Currency','setStyle','1032408xRhLzu','constructor','OnlyInTicketChannels','displayAvatarURL','Enabled','>\x20```','StripeInvoiceTitle','setTitle','tag','PayPalInvoiceMsg','channel','Green','CurrencySymbol','User','setLabel','create','PayPalService','username','Link','836059DIKLLY','addFields','discriminator','channels','email','TicketSettings','rLFFa','@discordjs/builders','addUserOption','Service','retrieve','https://assets.website-files.com/60d5e12b5c772dbf7315804e/6127ddadabd8205a78c21a42_sq.png','setName','hosted_invoice_url','reply','PayPalUser','LogsChannelID','setFooter','customer','ButtonBuilder','StripeLogTitle','```','setThumbnail','send_invoice',')\x0a>\x20**','js-yaml','Price','GliJq','addIntegerOption','setDescription','(((.+)+)+)+$','1914PyvwkZ','cache','Discord\x20User\x20ID:\x20','setURL','1127090MimAtC','readFileSync','PayPalPrice','sendInvoice','stripe','8bmJFBj','Stripe','roles','stripeInvoice','hQZYH','exports','guild','editReply','price','PayPalSeller','options','load','Locale','get','catch','setColor','deferReply','>\x20<@!','VkEPo','./config.yml','getUser','png','member','then','getInteger','**\x20<@!'];_0x4569=function(){return _0x15bae6;};return _0x4569();}